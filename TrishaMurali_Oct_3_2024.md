Name: Trisha Murali <br/>
Date: 10/03/2024

# Lights in Design Doc 

The grow lights subsystem plays multiple roles in plant care. Not only do grow lights help expose the plant to necessary light to promote photosynthesis, but they also produce heat (which is good for many plants). This subsystem is straightforward in that our device will use pre-made grow lights. In the circuit schematic (Figure 18), this is represented by the LED array. Note that this is connected to an n-type MOSFET, which functions as a switch to turn it on/off based on the STM32’s digital output signal labeled and connected to the subsystem as LIGHTGPIO (refer to Figure 13 to see associated connection on STM32). For more information about how the MOSFET switch operates, refer to the Special Note: 5V/12V Switch section. 

The type of plant being grown will determine how much light is necessary. A light sensor (LTR-329) will be used to track the amount of light the plant has received in a 24 hour period, and this will be stored in the STM32’s flash memory. The sensor data will be communicated using I2C protocol. The appropriate connection labels can be seen in Figure 13 and Figure 18. The SCL pin is an I2C serial clock input and the SDA is an I2C serial data input/output pin. According to the datasheet, there’s a read bit that has to be set in order to access the data. Once the data has been read, the status bit is set to 0 to prevent a repeated read of the same data [25]. Let’s take a look at an example: spinach requires 12 hours of light per day along with a temperature of 60-70 degrees Fahrenheit [5]. Maintaining a moderate temperature within the Smart Pot while shining grow lights can be a difficult optimum to reach because they produce heat. This is where the shade and on/off switch for the LEDs come into the picture. Based on sensor output, the STM32 will provide a signal  (STEPGPIOs) to the stepper motor driver ULN2003 to drive the 5V stepper motor (1286-1219-ND), which will in turn operate the shades that provide coverage for the plants as shown in Figure 19. This is done if the Smart Pot is ever too hot, but it has not reached the maximum limit. However, if the plant has received its maximum limit (i.e., if it reaches 12 hours of light in the case of Spinach) during the current 24 hour period, the lights will be turned off. Similarly, if too little light (< 12 hours) has been received, the lights will be turned on. Do note that if the temperature is too high (above 70 degrees F), the device may not turn the lights off if the desired amount of light exposure is not reached (< 12 hours). When this is the case, fans will be actuated for air circulation and the shade will be deployed to help maintain a cooler environment. The shade is a component exclusive to the grow lights subsystem, but because all of the stated environment factors go hand-in-hand, the other subsystems will work together to attain the necessary balance. 

![image](https://github.com/user-attachments/assets/aff42195-fb6e-4c70-bee7-ac8d9d3a8d45)
![image](https://github.com/user-attachments/assets/6443093b-e170-491b-ad86-3c695c00573a)
![image](https://github.com/user-attachments/assets/275fc274-531e-4802-8f17-defce86bf50a)


